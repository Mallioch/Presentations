"undefined"==typeof Meetup.FB&&(Meetup.FB={}),function(){Meetup.FB.feed={},Meetup.FB.feed.publish=function(b,c){c="function"==typeof c?c:void 0;var d=/.+\.meetup.com$/;if(location.hostname.match(d)){b.display="dialog",b.method="feed";var e=function(){FB.ui(b,c)};Meetup.FB.ready(function(){FB.getLoginStatus(function(a){return a?("connected"===a.status?e():Meetup.FB.extendPerms("publish_stream",e),void 0):!1})})}else a(b,c)};var a=function(a){var c,d=a.link,e=window.screenX?window.screenX:window.screenLeft,f=window.screenY?window.screenY:window.screenTop,g=window.outerWidth?window.outerWidth:document.clientWidth,h=window.outerHeight?window.outerHeight:document.clientHeight,i=600,j=400,k=e+Math.round((g-i)/2),l=f+Math.round((h-j)/2),m="http://www.meetup.com/fbconnect_popup.jsp",n="meetup_facebook",o=["left=",k,",top=",l,",width=",i,",height=",j,",personalbar=0",",toolbar=0",",scrollbars=1",",resizeable=1"].join("");/#/.test(d)&&(d=d.split("#").join("%23")),c=[m,"?link=",d],a.from&&(c[c.length]="&from=",c[c.length]=b(a.from)),a.to&&(c[c.length]="&to=",c[c.length]=b(a.to)),a.picture&&(c[c.length]="&picture=",c[c.length]=b(a.picture)),a.name&&(c[c.length]="&name=",c[c.length]=b(a.name)),a.caption&&(c[c.length]="&caption=",c[c.length]=b(a.caption));var p=window.open(c.join(""),n,o);return p},b=function(a){return encodeURIComponent(a).replace(/%20/g,"+")}}(),"undefined"==typeof Meetup&&(Meetup={}),void 0===Meetup.ShareThis&&(Meetup.ShareThis={}),function(a){Meetup.ShareThis.shortUrlTracking="UNKW",Meetup.ShareThis.init=function(){var b=$("#facebookShare"),c=$("#twitterShare");if(b.length>0&&(Meetup.FB.fbSrcCode="fb_shr",b.bind("click",Meetup.ShareThis.onFacebookClick)),c.length>0){if(a.shortUrlTracking=Meetup.Twitter.srcCode,!a.shortUrlTracking)throw new Error("You have to set a Twitter tracking code here.");c.bind("click",Meetup.ShareThis.onTwitterClick)}},Meetup.ShareThis.onFacebookClick=function(a){a.preventDefault(),a.stopPropagation(),$(document.body).click();var b;Meetup.FB.altTemplateKey?b=$.extend({},Meetup.FB.altTemplate[Meetup.FB.altTemplateKey]):(b=$.extend({},Meetup.FB.template),b.link=window.location.href);var c=$("#D_photoGallery_image");return c.length&&(b.picture=c.attr("src"),IS_DEV&&(b.picture=b.picture.replace(".dev.","."))),Meetup.FB.ready(function(){Meetup.FB.feed.publish(b)}),$.get(["/r/site/www/0/",Meetup.FB.fbSrcCode,"/http://",window.location.hostname,"/img/clear.gif"].join("")),!1},Meetup.ShareThis.onTwitterClick=function(b){b.preventDefault();var c,d,e=a.shortUrlTracking;return c=Meetup.FB.altTemplateKey?$.extend({},Meetup.FB.altTemplatep[Meetup.FB.altTemplateKey]):$.extend({},Meetup.FB.template),d=c.link||window.location.href,$.ajax({url:"/api/",data:{method:"shortenUrl",arg_url:d,arg_srcCode:e,arg_memberId:Member?Member.id:0,arg_chapterId:Chapter?Chapter.id:0,arg_destCode:"twit"},success:function(b){a.hideActDropdown(),c.link=b,Meetup.Twitter.publish(c)},error:function(){LOG.error("URL shortening failed :(.")}}),!1},Meetup.ShareThis.hideActDropdown=function(){Meetup.ActionDropdown&&Meetup.ActionDropdown.hide($("#shareThisDropdown"))}}(Meetup.ShareThis);